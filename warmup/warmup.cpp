/**
 * This isn't anything fancy, I just need to warm up with using the win32 api.
 * This program asks the user, with a message box, if they'd like to open a calculator.
 * If yes, then a new process is created which starts calc.exe.
*/

#include <windows.h>
#include <iostream>

#pragma comment(lib, "user32.lib")

int main(void) {
    int result = MessageBoxW(NULL, L"Open a calculator?", L"Hello World", MB_ICONQUESTION | MB_YESNO);

    if (result == IDYES) {
        STARTUPINFOW startup_info = {0};
        PROCESS_INFORMATION process_info = {0};

        BOOL calc = CreateProcessW(L"C:\\Windows\\System32\\calc.exe", NULL, NULL, NULL, false, 0, NULL, NULL, &startup_info, &process_info);

        if (calc) {
            printf("Created calc.exe process. PID: %ld", process_info.dwProcessId);
        } else {
            printf("failed to start calc.exe process");
        }
    }

    return EXIT_SUCCESS;
}
